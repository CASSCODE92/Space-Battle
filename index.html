<!DOCTYPE html>
<html lang="en">

<head> 
   
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width>, initial-scale=1.0">
    <title>Document</title>
    <script type= "text/javascript">
           
           var x;
           x = prompt("Hello, civilian of Earth. What is your name?");
        alert("Hello, "+x+". Your planet has been attacked by aliens from planet YEET and it is your duty to defeat what's left of your planet. Pilot the USS Schwartzenegger while destroying the YEETIANS with your lasers.")
    </script>


   
    



</head>
<body>

    
    <script> 
     //Our ship
function Ship() {
    this.x = 2;
    this.xdir = 0;
  
    this.show = function() {
    
     
    };
  
    this.setDir = function(dir) {
      this.xdir = dir;
    };
  
    this.move = function(dir) {
      this.x += this.xdir * 5;
    };
  }

  //The enemy ships

  function Yeetling(x, y) {
    this.x = x;
    this.y = y;
    this.r = 30;
  
    this.xdir = 1;
  
    this.destroy = function() {
      this.r = this.r - 5;
    };
  
    this.shiftDown = function() {
      this.xdir *= -1;
      this.y += this.r;
    };
  
    this.move = function() {
      this.x = this.x + this.xdir;
    };
  
    this.show = function() {
    }
  }

  //The lasers

  function Firepower(x, y) {
    this.x = x;
    this.y = y;
    this.r = 8;
    this.toDelete = false;
  
    this.show = function() {
     
    };
  
    this.damage = function() {
      this.toDelete = true;
    };
  
    this.hits = function(yeetling) {
      var d = Math.sqrt( this.x*this.y + yeetling.x*yeetling.y );
      if (d < this.r + yeetling.r) {
        return true;
      } else {
        return false;
    };
  
        }
  this.move = function() {
      this.y = this.y - 5;
    };
  }

  //Canvas

  var ship;
var yeetlings = [];
var firepower = [];

function setup() {

  ship = new Ship();
  // drop = new Drop(width/2, height/2);
  for (var i = 0; i < 6; i++) {
    yeetlings[i] = new Yeetling(i * 80 + 80, 60);
  }
}
setup()

function draw() {
 
  ship.show();
  ship.move();

  for (var i = 0; i < firepower.length; i++) {
    firepower[i].show();
    firepower[i].move();
    for (var j = 0; j < yeetlings.length; j++) {
      if (firepower[i].hits(yeetlings[j])) {
        yeetlings[j].destroy();
        firepower[i].damage();
      }
    }
    console.log(firepower[i])
  }

  var edge = false;

  for (var i = 0; i < yeetlings.length; i++) {
    yeetlings[i].show();
    yeetlings[i].move();
    if (yeetlings[i].x > 6 || yeetlings[i].x < 0) {
      edge = true;
    }
  }

  if (edge) {
    for (var i = 0; i < yeetlings.length; i++) {
    yeetlings[i].shiftDown();
    }
  }

  for (var i = firepower.length - 1; i >= 0; i--) {
    if (firepower[i].toDelete) {
      firepower.splice(i, 1);
    }
  }
  alert("insert string")
}

function keyReleased(key) {
  if (key != ' ') {
    ship.setDir(0);
  }
  draw()
}
document.addEventListener('keyup', (event) => {

    
      keyReleased(event.key);
      }
);

function keyPressed(event) {
  if (event.key === ' ') {
    var laser = new Firepower(ship.x, 8);
    firepower.push(laser);
  }

  if (event.keyCode === 39) {
    ship.setDir(1);
  } else if (event.keyCode === 37) {
    ship.setDir(-1);
  }
}
document.addEventListener('keydown', (event) => {keyPressed(event);});
    function box(){
        var userval = confirm("Do you accept your mission?")
        if (userval== true)
        {
            document.write("Fire at the enemy YEETIAN until ship is destroyed.");
        }
        else{
            document.write("Hope you have another planet you plan on moving to.");
        }
    }
</script>
<button onclick= "setup()">Click Here</button>  
</body>
</html>
            